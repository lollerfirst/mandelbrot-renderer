cmake_minimum_required(VERSION 3.10)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
project(mandelbrot-renderer LANGUAGES CXX)
add_executable(mandelbrot-renderer mandelbrot.cpp)

find_package(PNG REQUIRED)
include_directories(mandelbrot-renderer ${PNG_INCLUDE_DIR})
target_link_libraries(mandelbrot-renderer ${PNG_LIBRARY})

set(OPENMP_LIBRARIES "/usr/local/opt/libomp/lib")
set(OPENMP_INCLUDES "/usr/local/opt/libomp/include")
set(OpenMP_CXX "${CMAKE_CXX_COMPILER}")
set(OpenMP_CXX_FLAGS "--")
set(OpenMP_CXX_LIB_NAMES "libomp" "libgomp" "libiomp5")
set(OpenMP_libomp_LIBRARY ${OpenMP_CXX_LIB_NAMES})
set(OpenMP_libgomp_LIBRARY ${OpenMP_CXX_LIB_NAMES})
set(OpenMP_libiomp5_LIBRARY ${OpenMP_CXX_LIB_NAMES})

find_package(OpenMP REQUIRED)
include_directories(mandelbrot-renderer ${OPENMP_INCLUDES})
